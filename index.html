<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ROZ - Smart AI Robot</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      transition: background 1s, color 1s;
    }

    /* Home Guard (Security/Professional) */
    .home-theme {
      background: #2a2a2a;
      color: #fff;
    }

    .home-theme header {
      background: #ff4500;
    }

    /* Farm Mode (Nature/Green) */
    .farm-theme {
      background: #85bb65; /* Green */
      color: #000;
    }

    .farm-theme header {
      background: #228b22; /* Dark Green */
    }

    /* Family Mode (Colorful/Happy) */
    .family-theme {
      background: #ffcc00; /* Yellow */
      color: #000;
    }

    .family-theme header {
      background: #ff6347; /* Tomato */
    }

    header {
      background: #00d4ff;
      padding: 1rem;
      text-align: center;
      font-size: 1.5rem;
      font-weight: bold;
      color: #000;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem;
    }

    .video-feed, .controls, .log-area, .interaction-box, .status-panel, .mode-selector {
      margin-top: 1.5rem;
      padding: 1rem;
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(5px);
    }

    video {
      width: 100%;
      border: 2px solid #00d4ff;
      border-radius: 10px;
    }

    .controls button, .mode-selector button {
      margin: 0.25rem;
      padding: 0.6rem 1.2rem;
      border: none;
      background: #00d4ff;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      border-radius: 5px;
    }

    .log-area pre {
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 0.95rem;
    }

    .interaction-box {
      background: #1e1e1e;
      color: #00ff99;
      font-family: monospace;
      padding: 1rem;
      height: 200px;
      overflow-y: auto;
    }

    .status-panel {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
    }

    .status-item {
      flex: 1;
      background: #2a2a2a;
      padding: 0.5rem;
      border-radius: 5px;
      text-align: center;
    }
  </style>
</head>
<body>
  <header>ROZ - Smart AI Robot Dashboard</header>
  <div class="container">

    <!-- Webcam Feed -->
    <div class="video-feed">
      <h2>Live View</h2>
      <video id="video" autoplay playsinline muted></video>
    </div>

    <!-- RC Movement Controls -->
    <div class="controls">
      <h2>Movement Control</h2>
      <button onclick="sendCommand('F')">‚¨Ü Forward</button>
      <button onclick="sendCommand('B')">‚¨á Backward</button>
      <button onclick="sendCommand('L')">‚¨Ö Left</button>
      <button onclick="sendCommand('R')">‚û° Right</button>
      <button onclick="sendCommand('S')">‚èπ Stop</button>
    </div>

    <!-- Mode Selector -->
    <div class="mode-selector">
      <h2>Switch Mode</h2>
      <button onclick="setMode('home')">üè† Home Guard</button>
      <button onclick="setMode('farm')">üåæ Farm Mode</button>
      <button onclick="setMode('family')">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family Mode</button>
    </div>

    <!-- System Status Panel -->
    <div class="status-panel">
      <div class="status-item">Battery: 98%</div>
      <div class="status-item">Network: Connected</div>
      <div class="status-item" id="currentMode">Mode: None</div>
    </div>

    <!-- ROZ Interaction Log -->
    <div class="interaction-box" id="interactionBox">
      [ROZ]: Hello! I'm ready to assist.
    </div>

    <!-- Log Area -->
    <div class="log-area">
      <h3>Logs & Messages</h3>
      <pre id="log">Waiting for ROZ...</pre>
    </div>
  </div>

  <script>
    // Webcam
    navigator.mediaDevices.getUserMedia({ video: true })
      .then(stream => {
        document.getElementById("video").srcObject = stream;
      })
      .catch(err => console.error("Camera access denied:", err));

    // Set mode and update UI (with theme)
    function setMode(mode) {
      const currentMode = document.getElementById("currentMode");
      const interaction = document.getElementById("interactionBox");
      let message = '';

      // Remove existing theme classes
      document.body.classList.remove('home-theme', 'farm-theme', 'family-theme');
      
      // Switch case to handle mode logic
      switch(mode) {
        case 'home':
          message = 'Now in Home Guard Mode: Monitoring surroundings.';
          document.body.classList.add('home-theme');
          break;
        case 'farm':
          message = 'Now in Farm Mode: Checking crop status and analysis.';
          document.body.classList.add('farm-theme');
          break;
        case 'family':
          message = 'Now in Family Mode: Educational & Care Assistant Activated.';
          document.body.classList.add('family-theme');
          break;
      }

      log(message);  // Log the message to the log area
      interaction.innerHTML = `[ROZ]: ${message}`;
      currentMode.textContent = `Mode: ${mode.toUpperCase()}`;
    }

    // Send movement command (Replace with actual logic in future)
    function sendCommand(cmd) {
      let commandMessage = '';
      switch(cmd) {
        case 'F':
          commandMessage = 'Moving Forward';
          break;
        case 'B':
          commandMessage = 'Moving Backward';
          break;
        case 'L':
          commandMessage = 'Turning Left';
          break;
        case 'R':
          commandMessage = 'Turning Right';
          break;
        case 'S':
          commandMessage = 'Stopping';
          break;
      }
      log(`Command sent: ${commandMessage}`);
    }

    // Log printer function
    function log(msg) {
      const logEl = document.getElementById("log");
      const now = new Date().toLocaleTimeString();
      logEl.textContent = `[${now}] ${msg}\n` + logEl.textContent;
    }
  </script>
</body>
</html>
