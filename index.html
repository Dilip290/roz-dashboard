<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ROZ - Smart AI Robot</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: url('https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1950&q=80') no-repeat center center fixed;
      background-size: cover;
      color: #ffffff;
      margin: 0;
      padding: 0;
    }
    header {
      background: rgba(0, 212, 255, 0.9);
      padding: 1rem;
      text-align: center;
      font-size: 1.5rem;
      font-weight: bold;
      color: #000;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem;
    }
    .video-feed, .controls, .log-area, .interaction-box, .status-panel, .mode-selector, .face-ui, .data-log {
      margin-top: 1.5rem;
      padding: 1rem;
      border-radius: 10px;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(5px);
    }
    video {
      width: 100%;
      border: 2px solid #00d4ff;
      border-radius: 10px;
    }
    .controls button, .mode-selector button {
      margin: 0.25rem;
      padding: 0.6rem 1.2rem;
      border: none;
      background: #00d4ff;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      border-radius: 5px;
    }
    .log-area pre, .data-log pre {
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 0.95rem;
    }
    .interaction-box {
      background: #1e1e1e;
      color: #00ff99;
      font-family: monospace;
      padding: 1rem;
      height: 200px;
      overflow-y: auto;
    }
    .status-panel {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
    }
    .status-item {
      flex: 1;
      background: #2a2a2a;
      padding: 0.5rem;
      border-radius: 5px;
      text-align: center;
    }
    .face-ui {
      text-align: center;
      font-size: 3rem;
    }
  </style>
</head>
<body>
  <header>ROZ - Smart AI Robot Dashboard</header>
  <div class="container">

    <!-- ROZ Robot Face -->
    <div class="face-ui" id="robotFace">
      üòê
    </div>

    <!-- Webcam Feed -->
    <div class="video-feed">
      <h2>Live View</h2>
      <video id="video" autoplay playsinline muted></video>
    </div>

    <!-- RC Movement Controls -->
    <div class="controls">
      <h2>Movement Control</h2>
      <button onclick="sendCommand('F')">‚¨Ü Forward</button>
      <button onclick="sendCommand('B')">‚¨á Backward</button>
      <button onclick="sendCommand('L')">‚¨Ö Left</button>
      <button onclick="sendCommand('R')">‚û° Right</button>
      <button onclick="sendCommand('S')">‚èπ Stop</button>
    </div>

    <!-- Mode Selector -->
    <div class="mode-selector">
      <h2>Switch Mode</h2>
      <button onclick="setMode('home')">üè† Home Guard</button>
      <button onclick="setMode('farm')">üåæ Farm Mode</button>
      <button onclick="setMode('family')">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family Mode</button>
    </div>

    <!-- System Status Panel -->
    <div class="status-panel">
      <div class="status-item">Battery: 98%</div>
      <div class="status-item">Network: Connected</div>
      <div class="status-item" id="currentMode">Mode: None</div>
    </div>

    <!-- ROZ Interaction Log -->
    <div class="interaction-box" id="interactionBox">
      [ROZ]: Hello! I'm ready to assist.
    </div>

    <!-- Log Area -->
    <div class="log-area">
      <h3>Logs & Messages</h3>
      <pre id="log">Waiting for ROZ...</pre>
    </div>

    <!-- Data Logging Panel -->
    <div class="data-log">
      <h3>Activity History</h3>
      <pre id="dataLog"></pre>
    </div>
  </div>

  <script>
    // Webcam
    navigator.mediaDevices.getUserMedia({ video: true })
      .then(stream => {
        document.getElementById("video").srcObject = stream;
      })
      .catch(err => console.error("Camera access denied:", err));

    // Robot expressions
    const faceUI = document.getElementById("robotFace");

    // Speech feedback
    function speak(text) {
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'en-IN';
      speechSynthesis.speak(utterance);
    }

    // Send movement command
    function sendCommand(cmd) {
      let msg = '';
      switch (cmd) {
        case 'F': msg = 'Moving forward'; faceUI.textContent = 'üòÉ'; break;
        case 'B': msg = 'Reversing'; faceUI.textContent = 'üòÆ'; break;
        case 'L': msg = 'Turning left'; faceUI.textContent = 'üòâ'; break;
        case 'R': msg = 'Turning right'; faceUI.textContent = 'üòè'; break;
        case 'S': msg = 'Stopping'; faceUI.textContent = 'üòê'; break;
      }
      log(msg);
      speak(msg);
      logActivity(`[RC] ${msg}`);
    }

    // Set mode and update UI
    function setMode(mode) {
      const currentMode = document.getElementById("currentMode");
      const interaction = document.getElementById("interactionBox");
      let message = '';
      let expression = 'üòé';

      switch(mode) {
        case 'home':
          message = 'Now in Home Guard Mode: Monitoring surroundings.';
          document.body.style.backgroundImage = "url('https://images.unsplash.com/photo-1581091012184-4c4f50dcd4f0?auto=format&fit=crop&w=1350&q=80')";
          expression = 'üßê';
          break;
        case 'farm':
          message = 'Now in Farm Mode: Checking crop status and analysis.';
          document.body.style.backgroundImage = "url('https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?auto=format&fit=crop&w=1350&q=80')";
          expression = 'üåæ';
          break;
        case 'family':
          message = 'Now in Family Mode: Educational & Care Assistant Activated.';
          document.body.style.backgroundImage = "url('https://images.unsplash.com/photo-1616627980795-5fced3e93c95?auto=format&fit=crop&w=1350&q=80')";
          expression = 'üòä';
          break;
      }

      faceUI.textContent = expression;
      interaction.innerHTML = `[ROZ]: ${message}`;
      currentMode.textContent = `Mode: ${mode.toUpperCase()}`;
      log(message);
      speak(message);
      logActivity(`[MODE] ${mode.toUpperCase()} selected`);
    }

    // Log printer
    function log(msg) {
      const logEl = document.getElementById("log");
      const now = new Date().toLocaleTimeString();
      logEl.textContent = `[${now}] ${msg}\n` + logEl.textContent;
    }

    function logActivity(entry) {
      const activityEl = document.getElementById("dataLog");
      const now = new Date().toLocaleTimeString();
      activityEl.textContent = `[${now}] ${entry}\n` + activityEl.textContent;
    }
  </script>
</body>
</html>
